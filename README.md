<h2>Endpoints</h2>
All requests return a JSON with some information on the outcome. Successful GET requests are documented under their 
respective headings. For more details on success/error responses, see the sections at the bottom.
<br>
Note that all dates and times generated by the API are in UTC+0 timezone, and various features rely on this fact to 
work accurately. To prevent errors, please use UTC+0 when submitting dates/times to the API and handle the timezone 
conversion on the client side.
<h3>Site Access</h3>
<details>
<summary><b>Auth</b></summary>
The API has a two key system for authorization. An app key required for all requests, and a user key required for 
requests that are sensitive to user authentication (i.e. changing account details).  
The key is sent in the request header as a Bearer token.
<pre>
Authorization: Bearer AUTH_TOKEN
</pre>
The app key is require for all requests (except for authenticating user details and getting the user key). 
App keys are currently provided by the developer manually and expire after 3 months. 
A valid app key can be used to generate a new key, replacing the old one and resetting the expiry.

The user key is used to authenticate a specific user, and can be retreived by using the API request below. 
For requests requiring a user key, append it directly to the app key when making your request. Total key length 
should be 66 characters.

<details>
<summary>
<code>POST /api/tokens/user</code>
</summary>
Requests an auth token for a user, provided a valid username and password. Returns 401 error if unauthorized.<br>
Username:password should be submitted using a Basic Authorization header and DOES NOT require an app code<br>
Tokens expire after 14 days unless otherwise specified.
<pre>{
    "token": "a3b67df3547a49e6cd338a05c442d666"
}</pre>
</details>
<details>
<summary>
<code>DELETE /api/tokens/user</code>
</summary>
Revokes the auth token of the current user. <b>Requires user auth token</b><br>
Useful for logging a user out<br>
</details>
<details>
<summary>
<code>POST /api/tokens/user/validate</code>
</summary>
Checks if user auth token submitted is still valid. <b>Requires user auth token</b><br>
Useful for checking if user is logged in. Returns <code>403 FORBIDDEN</code> if token is not valid.<br>
<pre>{
    "user": 2,
    "expires": "Tue, 26 Mar 2024 03:16:34 GMT",
    "_links": {
        "user": "/api/users/2"
    }
}
</pre>
</details>
<details>
<summary>
<code>GET /api/tokens/app</code>
</summary>
Gets the token and expiry date of the current app token.<br>
Since it requires a valid app token to access, 
and only gives details on that token, only really useful for getting the expiry date<br>

<pre>{
    "expiry": "Tue, 23 Apr 2024 23:02:17 GMT",
    "token": "4ded8ce3796b368e93c5f87d36a7def051"
}
</pre>
</details>
<details>
<summary>
<code>POST /api/tokens/app</code>
</summary>
Requests a new app token and resets the expiry date.<br>
Requires a valid app token to access, 
and cannot be used to reset another authorized app's token.<br>
<pre>{
    "expiry": "Tue, 23 Apr 2024 23:02:17 GMT",
    "token": "4ded8ce3796b368e93c5f87d36a7def051"
}
</pre>
</details>
</details>
<br><details>
<summary><b>Users</b></summary>
<ul>
<details>
<summary><u>General</u></summary>
<ul>
<details>
    <summary><code>GET /api/users</code></summary>
    Gets list of all users. Optional args and defaults:<code>page=1, per_page=10 (max 100)</code>
    <pre>
{
    "items": [
        { ... user resource ... },
        { ... user resource ... },
        ...
    ],
    "_meta": {
        "page": 1,
        "per_page": 10,
        "total_pages": 20,
        "total_items": 195
    },
    "_links:" {
        "self": ".../api/users?page=1",
        "next": ".../api/users?page=2",
        "prev": null
    }
}</pre>
</details>
<details>
    <summary><code>GET /api/users/{id}</code></summary>
    Gets the user data of a user specified by their user id. The list of permissions in this result returns the keys 
only. For a full list see <code>GET /api/users/{int:id}/permissions</code><br>
<code>email</code> is only returned if that user's token is submitted in the request
    <pre>{
    "id": 1,
    "username": "Admin",
    "email": "admin@email.com", # only returned if the user requested their own data
    "player": 1,
    "discord": 34234523452345,
    "permissions": [
        "admin"
    ],
    "matches_streamed": 0,
    "matches_reviewed": 0,
    "reset_pass": false,
    "_links": {
        "self": "/api/users/1",
        "player": "/api/players/1",
        "discord": "/api/users/1/discord",
        "permissions": "/api/users/1/permissions",
        "matches_streamed": "/api/users/1/matches_streamed",
        "matches_reviewed": "/api/users/1/matches_reviewed",
    }
}</pre>
</details>
<details>
<summary><code>POST /api/users</code></summary>
Creates a new user. Returns a <code>201 CREATED</code>
<pre>
{
    "username": string, must be unique,
    "email": string, must be unique,
    "password: string
}</pre>
</details>
<details>
<summary><code>PUT /api/users/{int:id}</code></summary>
<b>Requires user auth token</b> - users are only authorized to change their own details<br>
Modifies a user. Returns <code>200 OK</code><br>
<pre># <em>italicised</em> fields are optional 
{
    <em>"username": "Admin"</em>,
    <em>"email": "admin@email.com"</em>
}</pre>
</details>
</ul>
</details>
<details>
<summary><u>Passwords</u></summary>
<ul>
<details>
<summary><code>POST /api/users/{id}/new_password</code></summary>
<b>Requires user auth token</b> - users are only authorized to change their own details<br>
Changes the users password. 
This will also set the re-issue the user token and set the <code>reset_pass</code> field on the user to False.<br>
Response is the new token.
<pre>{
    "password": "newpassword"
}</pre>
</details>
<details>
<summary><code>POST /api/users/forgot_password</code></summary>
Requests a reset password email for the specified user. Specify the user by either <code>username</code> 
or <code>email</code> field. Only one is required. On success will send a password reset token to the users email, 
which can be used to receive a temporary token. <br>
<pre>{
    "_links": {
        "user": "/api/users/2"
    },
    "result": "success",
    "user": 2
}</pre>
</details>
<details>
<summary><code>GET /api/users/forgot_password/{temp_token}</code></summary>
Uses a temporary token sent to a user via email to get a temporary auth token. This will revoke the current token for
that user, and set an expiry on the new token of 5 minutes. Will also set a <code>reset_pass</code> boolean to true on that user. It is recommended to force the user to change their
password after doing this.<br>
<pre>{
    "expires": "Mon, 25 Mar 2024 04:01:56 GMT",
    "token": "e392ae1467472ee8a591a11915f723b0"
}
</pre>
</details>
</ul>
</details>
<details>
<summary><u>Permissions</u></summary>
<ul>
<details>
<summary><code>GET /api/users/{id}/permissions</code></summary>
Gets a detailed list of the users permissions
<pre>{
    "username": "Admin",
    "permissions": [
        {
            "id": 1,
            "key": "team_mgr",
            "description": "Team Manager",
            "modifiers": {
                'team': 1
            },
            "_links": {
                "self": "/api/permissions/1"
            }
        }
    ],
    "_links": {
        "self": "/api/users/1/permissions"
    }
}</pre>
</details>
<details>
<summary><code>POST /api/users/{id}/permissions</code></summary>
Gives the user the permission defined by field <code>key</code>.<br>
Success returns <code>201 CREATED</code>
<pre>{
    'key': 'admin',
    'modifiers': { # insert modifiers as a json }
}</pre>
</details>
<details>
<summary><code>PUT /api/users/{id}/permissions</code></summary>
Updates the additional modifiers for user specified by {id} and the permission defined by field <code>key</code>.
<b>Overrides the modifiers tag completely with the new input</b>
<pre>{
    'key': 'admin',
    'modifiers': { # insert modifiers as a json }
}</pre>
</details>
<details>
<summary><code>POST /api/users/{id}/permissions/revoke</code></summary>
Revokes the permission specified by <code>key</code>  for user specified by {id}
<pre>{
    'key': 'admin'
}</pre>
</details>
</ul>
</details>
<details>
<summary><u>Discord</u></summary>
<ul>
<details>
<summary><code>GET /api/users/{id}/discord</code></summary>
Gets the user's linked discord profile. If request sent including user auth code, will also return
the access and refresh tokens
<pre>{
    "user": "Haelnorr",
    "discord_id": "1230918231",
    "token_expiration": "Tue, 26 Mar 2024 03:16:34 GMT",
    "access_token": "132f4d1234df1234d123e4213df234f",
    "refresh_token": "12387n293mo4if28734j9rm28d34r",
    "_links": {
        "self": "/api/users/2/discord",
        "user": "/api/users/2"
    }
}</pre>
</details>
<details>
<summary><code>POST /api/users/{id}/discord</code></summary>
Creates a new entry in the database recording the users discord information. User must be authenticated.<br>
<pre>{
    'discord_id': '123491203481209348123',
    'access_token': '31r234d123ecdx134fe234d',
    'refresh_token': '12w1ce2f234cs243ew',
    'expires_in': 604800
}</pre>
</details>
<details>
<summary><code>PUT /api/users/{id}/discord</code></summary>
Update a users discord information. User must be authenticated.
<pre># All fields optional
{
    'discord_id': '123491203481209348123',
    'access_token': '31r234d123ecdx134fe234d',
    'refresh_token': '12w1ce2f234cs243ew',
    'expires_in': 604800
}</pre>
</details>
<details>
<summary><code>DELETE /api/users/{id}/discord</code></summary>
Removes a users discord information. User must be authenticated. Returns <code>200 OK</code> on success
</details>
</ul>
</details>
<details>
<summary><u>Twitch</u></summary>
<ul>
<details>
<summary><code>GET /api/users/{id}/twitch</code></summary>
Gets the user's linked Twitch profile. If request sent including user auth code, will also return
the access and refresh tokens
<pre>{
    "user": "Haelnorr",
    "twitch_id": "1230918231",
    "token_expiration": "Tue, 26 Mar 2024 03:16:34 GMT",
    "access_token": "132f4d1234df1234d123e4213df234f",
    "refresh_token": "12387n293mo4if28734j9rm28d34r",
    "_links": {
        "self": "/api/users/2/twitch",
        "user": "/api/users/2"
    }
}</pre>
</details>
<details>
<summary><code>POST /api/users/{id}/twitch</code></summary>
Creates a new entry in the database recording the users twitch information. User must be authenticated. Returns <code>201 CREATED</code> on success<br>
<pre>{
    'twitch_id': '123491203481209348123',
    'access_token': '31r234d123ecdx134fe234d',
    'refresh_token': '12w1ce2f234cs243ew',
    'expires_in': 604800
}</pre>
</details>
<details>
<summary><code>PUT /api/users/{id}/twitch</code></summary>
Update a users twitch information. User must be authenticated. Returns <code>200 OK</code> on success
<pre># all fields optional
{
    'twitch_id': '123491203481209348123',
    'access_token': '31r234d123ecdx134fe234d',
    'refresh_token': '12w1ce2f234cs243ew',
    'expires_in': 604800
}</pre>
</details>
<details>
<summary><code>DELETE /api/users/{id}/twitch</code></summary>
Removes a users twitch information. User must be authenticated. Returns <code>200 OK</code> response on success
</details>
</ul>
</details>
<details>
<summary><u>Steam</u></summary>
<ul>
<details>
<summary><code>POST /api/users/{id}/steam</code></summary>
Links a steam account to the user, and looks up the steam_id using the Slapshot Public API to retreive the users SlapID.  
Successful retrieval of a Slap ID will link the user account to the respective player account, or create one if it 
does not yet exist. This is how players register to the league.
<pre>{
    "location": "/api/players/355",
    "message": "Player Haelnorr succesfully linked to user Haelnorr",
    "result": "OK"
}
</pre>
</details>
</ul>
</details>
</ul>


</details>
<br><details>
<summary><b>Permissions</b></summary>
This section is for requests regarding the permissions table. For assigning permissions to users, check the users section.
<ul>
<details>
<summary><code>GET /api/permissions/{id_or_key}</code></summary>
Returns a permission given its ID or unique key
<pre>{
    "id": 1,
    "key": "admin",
    "description": "Site Administrator",
    "users_count": 1,
    "_links": {
        "self": "/api/permissions/1"
    }
}</pre>
</details>
<details>
<summary><code>GET /api/permissions</code></summary>
Get a list of all permissions. Optional args and defaults:<code>page=1, per_page=10 (max 100)</code>
<pre>{
    "items": [
        { ... permission resource ... },
        { ... permission resource ... },
        ...
    ]
    "_meta": {
        "page": 1,
        "per_page": 10,
        "total_items": 1,
        "total_pages": 1
    },
    "_links": {
        "self": "/api/permissions?page=1&per_page=10",
        "next": null,
        "prev": null
    }
}</pre>
</details>
<details>
<summary><code>POST /api/permissions</code></summary>
Creates a new permission.
<pre># Italicised fields are optional
{
    'key': 'admin',
    <em>'description: 'Site Administrator'</em>
}</pre>
</details>
<details>
<summary><code>PUT /api/permissions/{id_or_key}</code></summary>
Updates an existing permission
<pre># Italicised fields are optional
{
    <em>'key': 'admin',</em>
    <em>'description: 'Site Administrator'</em>
}</pre>
</details>
<details>
<summary><code>GET /api/permissions/{id_or_key}/users</code></summary>
Lists all the users who have the specified permission
<pre>{
    "key": "admin",
    "permission": "Site Administrator",
    "users": [
        {
            "_links": {
                "self": "/api/users/1"
            },
            "id": 1,
            "username": "Admin"
        }
    ],
    "_links": {
        "self": "/api/permissions/1/users"
    }    
}</pre>
</details>
</ul>
</details>
<br>
<h3>League Management</h3>
<br><details>
<summary><b>Leagues</b></summary>
<ul>
<details>
<summary><code>GET /api/leagues</code></summary>
Returns a list of all leagues. Optional args and defaults:<code>page=1, per_page=10 (max 100)</code>
<pre>{
    "items": [
        { ... league item ... },
        { ... league item ... },
        ...
    ],
    "_meta": {
        "page": 1,
        "per_page": 10,
        "total_items": 2,
        "total_pages": 1
    },
    "_links": {
        "next": null,
        "prev": null,
        "self": "/api/leagues?page=1&per_page=10"
    }
}</pre>
</details>
<details>
<summary><code>GET /api/leagues/{id_or_acronym}</code></summary>
Returns a specified league
<pre>{
    "id": 1,
    "name": "Oceanic Slapshot League",
    "acronym": "OSL",
    "seasons_count": 18,
    "divisions_count": 3,
    "_links": {
        "self": "/api/leagues/1",
        "seasons": "/api/leagues/1/seasons",
        "divisions": "/api/leagues/1/divisions"
    }
}</pre>
</details>
<details>
<summary><code>POST /api/leagues</code></summary>
Creates a new league with the specified details.
<pre>{
    "name": "Oceanic Slapshot League",
    "acronym": "OSL"
}</pre>
<pre>{
    "id": 1,
    "name": "Oceanic Slapshot League",
    "acronym": "OSL",
    "seasons_count": 18,
    "divisions_count": 3,
    "_links": {
        "self": "/api/leagues/1",
        "seasons": "/api/leagues/1/seasons",
        "divisions": "/api/leagues/1/divisions"
    }
}</pre>
</details>
<details>
<summary><code>PUT /api/leagues/{id_or_acronym}</code></summary>
Updates a league with the specified details.
<pre># Italicised fields are optional
{
    <em>"name": "Oceanic Slapshot League",</em>
    <em>"acronym": "OSL"</em>
}</pre>
<pre>{
    "id": 1,
    "name": "Oceanic Slapshot League",
    "acronym": "OSL",
    "seasons_count": 18,
    "divisions_count": 3,
    "_links": {
        "self": "/api/leagues/1",
        "seasons": "/api/leagues/1/seasons",
        "divisions": "/api/leagues/1/divisions"
    }
}</pre>
</details>
<details>
<summary><code>GET /api/leagues/{id_or_acronym}/seasons</code></summary>
Gets a list of seasons in the specified league. Optional args and defaults: <code>page=1, per_page=10 (max 100)</code>
<pre>{
    "league": "Oceanic Slapshot League",
    "acronym": "OSL",
    "items": [
        { ... season item ... },
        { ... season item ... },
        ...
    ],
    "_meta": {
        "page": 1,
        "per_page": 10,
        "total_items": 18,
        "total_pages": 2
    },
    "_links": {
        "next": "/api/leagues/1/seasons?page=2&per_page=10",
        "prev": null,
        "self": "/api/leagues/1/seasons?page=1&per_page=10"
    }
}</pre>
</details>
<details>
<summary><code>GET /api/leagues/{id_or_acronym}/divisions</code></summary>
Gets a list of divisions in the specified league. Optional args and defaults: <code>page=1, per_page=10 (max 100)</code>
<pre>{
    "league": "Oceanic Slapshot League",
    "acronym": "OSL",
    "items": [
        { ... division item ... },
        { ... division item ... },
        ...
    ],
    "_meta": {
        "page": 1,
        "per_page": 10,
        "total_items": 3,
        "total_pages": 1
    },
    "_links": {
        "next": null,
        "prev": null,
        "self": "/api/leagues/1/divisions?page=1&per_page=10"
    }
}</pre>
</details>
</ul>
</details>
<br><details>
<summary><b>Seasons</b></summary>
<ul>
<details>
<summary><code>GET /api/seasons</code></summary>
Returns a list of all seasons. Optional args and defaults:<code>page=1, per_page=10 (max 100)</code>
<pre>{
    "items": [
        { ... season item ... },
        { ... season item ... },
        ...
    ],
    "_meta": {
        "page": 1,
        "per_page": 10,
        "total_items": 2,
        "total_pages": 1
    },
    "_links": {
        "next": null,
        "prev": null,
        "self": "/api/seasons?page=1&per_page=10"
    }
}</pre>
</details>
<details>
<summary><code>GET /api/seasons/{id}</code></summary>
Returns a specified season
<pre>{
    "id": 1,
    "name": "Season 1",
    "acronym": "S1",
    "league": "OSL",
    "match_type": "League",
    "divisions_count": 1,
    "start_date": null
    "end_date": null,
    "finals_end": null,
    "finals_start": null,
    "_links": {
        "divisions": "/api/seasons/1/divisions",
        "league": "/api/leagues/1",
        "match_type": null,
        "self": "/api/seasons/1"
    }
}</pre>
</details>
<details>
<summary><code>POST /api/seasons</code></summary>
Creates a new season with the specified details. <code>match_type</code> specifies the preset for lobby settings 
(i.e. periods, length, game type etc.)<br>
There can be multiple seasons with the same name or acronym, but not in the same league.
<pre># Italicised fields are optional
# Date input should be in the format YYYY-MM-DD
{
    "name": "Season 18",
    "acronym": "S18",
    "league": "osl", # can be ID or acronym
    "match_type": "league", # can be ID or name
    <em>"start_date": "2024-04-24",</em>
    <em>"end_date": "2024-05-24",</em>
    <em>"finals_start": "2024-05-24",</em>
    <em>"finals_end": "2024-06-15"</em>
}</pre>
</details>
<details>
<summary><code>PUT /api/seasons/{id}</code></summary>
Updates a season with the specified details.
<pre># Italicised fields are optional
# Date input should be in the format YYYY-MM-DD
{
    <em>"name": "Season 18",</em>
    <em>"acronym": "S18",</em>
    <em>"start_date": "2024-04-24",</em>
    <em>"end_date": "2024-05-24",</em>
    <em>"finals_start": "2024-05-24",</em>
    <em>"finals_end": "2024-06-15"</em>
}</pre>
</details>
<details>
<summary><code>GET /api/seasons/{id}/divisions</code></summary>
Gets a list of divisions in the specified season. Optional args and defaults: <code>page=1, per_page=10 (max 100)</code>
<pre>{
    "season": "Season 1",
    "acronym": "S1",
    "league": "OSL",
    "items": [
        { ... season_division item ... }
        { ... season_division item ... }
        ...
    ],
    "_meta": {
        "page": 1,
        "per_page": 10,
        "total_items": 1,
        "total_pages": 1
    },
    "_links": {
        "next": null,
        "prev": null,
        "self": "/api/seasons/1/divisions?page=1&per_page=10"
    }
}</pre>
</details>
</ul>
</details>
<br><details>
<summary><b>Divisions</b></summary>
<ul>
<details>
<summary><code>GET /api/divisions</code></summary>
Returns a list of all divisions. Optional args and defaults:<code>page=1, per_page=10 (max 100)</code>
<pre>{
    "items": [
        { ... division item ... },
        { ... division item ... },
        ...
    ],
    "_meta": {
        "page": 1,
        "per_page": 10,
        "total_items": 3,
        "total_pages": 1
    },
    "_links": {
        "next": null,
        "prev": null,
        "self": "/api/divisions?page=1&per_page=10"
    }
}</pre>
</details>
<details>
<summary><code>GET /api/divisions/{id}</code></summary>
Returns a specified division
<pre>{
    "id": 1,
    "name": "Pro League",
    "acronym": "PL",
    "league": "OSL",
    "description": "Where the Pros at",
    "seasons_count": 1,
    "_links": {
        "league": "/api/leagues/1",
        "seasons": "/api/divisions/1/seasons",
        "self": "/api/leagues/1"
    }
}</pre>
</details>
<details>
<summary><code>POST /api/divisions</code></summary>
Creates a new division with the specified details. <br>
There can be multiple divisions with the same name or acronym, but not in the same league.
<pre># Italicised fields are optional
{
    "name": "Open League",
    "acronym": "OL",
    "league": "osl", # can be ID or acronym
    <em>"description": "Where players new to the game can start"</em>
}</pre>
</details>
<details>
<summary><code>PUT /api/divisions/{id}</code></summary>
Updates a division with the specified details.
<pre># Italicised fields are optional
{
    <em>"name": "Open League",</em>
    <em>"acronym": "OL",</em>
    <em>"description": "Where players new to the game can start"</em>
}</pre>
</details>
<details>
<summary><code>GET /api/divisions/{id}/seasons</code></summary>
Gets a list of divisions in the specified season. Optional args and defaults: <code>page=1, per_page=10 (max 100)</code>
<pre>{
    "division": "Pro League",
    "acronym": "PL",
    "league": "OSL",
    "seasons": [
        {
            "name": "Season 1",
            "acronym": "S1",
            "id": 1,
            "_links": {
                "self": "/api/seasons/1"
            }
        }
    ],
    "_links": {
        "league": "/api/leagues/1",
        "self": "/api/divisions/1/seasons"
    }
}</pre>
</details>
</ul>
</details>
<br><details>
<summary><b>SeasonDivision</b></summary>
This namespace can be slightly confusing, but it comes from the helper table it is built on. The table
links together entries from the 'Seasons' and 'Divisions' tables, and is where most of the relevant in-season data
is stored (teams, matches, finals etc).
<ul>
<details>
<summary><code>GET /api/season_division/{id}</code></summary>
Gets info a specific SeasonDivision
<pre>{
    "id": 39,
    "season": "Season 18",
    "division": "Open League",
    "league": "OSL",
    "teams_count": 10,
    "free_agents_count": 5,
    "rookies_count": 26,
    "matches_count": 0,
    "finals_count": 0,
    "_links": {
        "division": "/api/divisions/3",
        "finals": "/api/season_division/39/finals",
        "free_agents": "/api/season_division/39/free_agents",
        "league": "/api/leagues/1",
        "matches": "/api/season_division/39/matches",
        "rookies": "/api/season_division/39/rookies",
        "season": "/api/seasons/18",
        "self": "/api/leagues/39",
        "teams": "/api/season_division/39/teams"
    }
}</pre>
</details>
<details>
<summary><code>POST /api/season_division</code></summary>
Creates a new SeasonDivision. Input:
<pre>{
    "season_id": 4,
    "division_id": 2
}</pre>
</details>
<details>
<summary><code>GET /api/season_division/{id}/teams</code></summary>
Gets a list of teams in the SeasonDivision
<pre>{
    "division": "Open League",
    "id": 39,
    "league": "OSL",
    "season": "Season 18",
    "teams": [
        {
            "_links": {
                "self": "/api/teams/242"
            },
            "acronym": "2C1F",
            "color": null,
            "name": "2 Cousins 1 Friend"
        },
        { ... team info ... },
        ...
    ],
    "_links": {
        "season_division": "/api/season_division/39",
        "self": "/api/season_division/39/teams"
    }
}</pre>
</details>
<details>
<summary><code>GET /api/season_division/{id}/free_agents</code></summary>
Returns a list of all the free agents in the specified season. Will return <code>404 NOT FOUND</code> if season had no 
free agents
<pre>{
    "league": "OSL",
    "season_division": "Season 2 Single League",
    "free_agents": [
        {
            "_links": {
                "player": "/api/players/40"
            },
            "end_date": null,
            "player": "Nutterz",
            "start_date": null
        },
        { ... free agent info ... },
        ...
    ],
    "_links": {
        "league": "/api/leagues/1",
        "season_division": "/api/season_division/2",
        "self": "/api/season_division/2/free_agents"
    }
}</pre>
</details>
<details>
<summary><code>GET /api/season_division/{id}/rookies</code></summary>
Lists the players who are playing for the first time in this season.
<pre>{
    "season": "Season 18",
    "division": "Open League",
    "id": 39,
    "league": "OSL",
    "rookies": [
        {
            "_links": {
                "current_team": "/api/teams/242",
                "self": "/api/players/338",
                "user": null
            },
            "current_team": "2 Cousins 1 Friend",
            "player_name": "Pluto",
            "slap_id": 552377,
            "user": null
        },
        { ...  player info ... },
        ...
    ],
    "_links": {
        "season_division": "/api/season_division/39",
        "self": "/api/season_division/39/rookies"
    }
}</pre>
</details>
<details>
<summary><code>GET /api/season_division/{id}/matches</code></summary>
Gets a list of matches in the given season_division. Optional arg <code>unplayed=True</code> can be specified to only
get unplayed matches.
<pre>{
    "id": 40,
    "season": "Season 19",
    "division": "Pro League",
    "league": "OSL",
    "matches": [
        {
            "_links": {
                "away_team": "/api/teams/245",
                "home_team": "/api/teams/247",
                "self": "/api/match/1"
            },
            "away_team": "Massive Monkeys",
            "final": false,
            "home_team": "CBR Milk",
            "match_week": null,
            "result": null,
            "round": null,
            "scheduled_time": null
        },
        { ... match item ... }
        ...
    ],
    "_links": {
        "division": "/api/divisions/1",
        "league": "/api/leagues/1",
        "season": "/api/seasons/19",
        "self": "/api/season_division/40"
    }
}</pre>
</details>
</ul>
</details>
<br><details>
<summary><b>Players</b></summary>
<ul>
<details>
<summary><code>GET /api/players/{id}</code></summary>
Gets the specified player.
<pre>{
    "id": 1,
    "player_name": "Eagle",
    "slap_id": 155,
    "user": null,
    "current_team": null,
    "teams": 0,
    "first_season": "Season 1 Single League",
    "rookie": true,
    "free_agent_seasons": 0,
    "next_name_change": null,
    "_links": {
        "self": "/api/players/1",
        "user": "/api/users/1",
        "current_team": null,
        "first_season": "/api/season_division/1",
        "free_agent_seasons": "/api/players/1/free_agent",
        "teams": "/api/players/1/teams",
        "awards": "/api/teams/1/awards"
    }
}</pre>
</details>
<details>
<summary><code>GET /api/players</code></summary>
Gets the collection of all players. Optional args and defaults:<code>page=1, per_page=10 (max 100)</code>
<pre>{
    "items": [
        { ... player item ... }
        { ... player item ... }
        ...
    ],
    "_meta": {
        "page": 1,
        "per_page": 10,
        "total_items": 363,
        "total_pages": 37
    },
    "_links": {
        "next": "/api/players?page=2&per_page=10",
        "prev": null,
        "self": "/api/players?page=1&per_page=10"
    }
}</pre>
</details>
<details>
<summary><code>POST /api/players</code></summary>
Creates a new user.
<pre># Italicised fields are optional
{
    "player_name": "BestRookie",
    <em>"slap_id": 1213456,</em>
    <em>"rookie": true,</em>
    <em>"first_season_id": 42</em>
}</pre>
</details>
<details>
<summary><code>PUT /api/players/{id}</code></summary>
Updates a player.
<pre># Italicised fields are optional
{
    <em>"player_name": "BestRookie",</em>
    <em>"slap_id": 1213456,</em>
    <em>"rookie": true,</em>
    <em>"first_season_id": 42</em>
}</pre>
</details>
<details>
<summary><code>GET /api/players/{id}/teams</code></summary>
Gets a list of teams the player has been on, with dates. Can specify the optional arg <code>?current=True</code>
to retrieve only the players current team.
<pre>All teams the player has been on
{
    "player": "Spar",
    "teams": {
        "55": {
            "name": "Such Is Life",
            "acronym": "SIL",
            "color": "dd73ff",
            "dates": [
                {
                    "end": "Tue, 25 Jan 2022 00:00:00 GMT",
                    "start": "Mon, 25 May 2020 00:00:00 GMT"
                },
                {
                    "end": "Sun, 12 Mar 2023 00:00:00 GMT",
                    "start": "Mon, 19 Sep 2022 00:00:00 GMT"
                },
                {
                    "end": null,
                    "start": "Mon, 28 Aug 2023 00:00:00 GMT"
                }
            ],
            "_links": {
                "self": "/api/teams/55"
            }
        },
        "team_id": { .. team info and dates ... }
    },
    "_links": {
        "self": "/api/players/113/teams"
    }
}</pre>
<pre>The players current team
{
    "player": "Spar",
    "current_team": {
        "acronym": "SIL",
        "color": "dd73ff",
        "name": "Such Is Life",
        "dates": [
            "start": "Mon, 28 Aug 2023 00:00:00 GMT",
            "end": null
        ],
        "_links": {
            "self": "/api/teams/55"
        }
    },
    "_links": {
        "current_team": "/api/players/113",
        "self": "/api/players/113/teams?current=True"
    }
}
</pre>
</details>
<details>
<summary><code>POST /api/players/{id}/teams</code></summary>
Register the player to a team. Specify the team by <code>team={id or acronym}</code>.
Will fail if player is currently registered to a team.
</details>
<details>
<summary><code>DELETE /api/players/{id}/teams</code></summary>
De-register the player from their current team.
</details>
<details>
<summary><code>GET /api/players/{id}/free_agent</code></summary>
Gets a list of seasons a player has been a free agent in.
<pre>{
    "player": "Nananana",
    "free_agent_seasons": [
        {
            "_links": {
                "self": "/api/season_division/30",
                "season": "/api/seasons/15",
                "division": "/api/divisions/1",
                "league": "/api/leagues/1",
            },
            "division": "Pro League",
            "id": 30,
            "league": "OSL",
            "season": "Season 15"
        },
        { ... season/division information ... },
        ...
    ],
    "_links": {
        "player": "/api/players/48",
        "self": "/api/players/48/free_agent"
    }
}</pre>
</details>
<details>
<summary><code>POST /api/players/{id}/free_agent</code></summary>
Registers a player to the given season_division. Input is <code>season_division_id</code>
</details>
</ul>
</details>
<br><details>
<summary><b>Teams</b></summary>
<ul>
<details>
<summary><code>GET /api/teams/{id}</code></summary>
Gets the specified team.
<pre>{
    "id": 3,
    "name": "100 Throws",
    "acronym": "100",
    "active_players": 0,
    "awards": 0,
    "color": "9cd9e0",
    "founded_date": null,
    "logo": false,
    "seasons_played": 0,
    "_links": {
        "active_players": "/api/teams/3/players?current=True",
        "awards": "/api/teams/3/awards",
        "logo": null,
        "seasons_played": "/api/teams/3/seasons",
        "self": "/api/teams/3"
    }
}</pre>
</details>
<details>
<summary><code>GET /api/teams</code></summary>
Gets the collection of all teams. Optional args and defaults:<code>page=1, per_page=10 (max 100)</code>
<pre>{
    "items": [
        { ... team item ... }
        { ... team item ... }
        ...
    ],
    "_meta": {
        "page": 1,
        "per_page": 10,
        "total_items": 1,
        "total_pages": 1
    },
    "_links": {
        "next": null,
        "prev": null,
        "self": "/api/teams?page=1&per_page=10"
    }
}</pre>
</details>
<details>
<summary><code>POST /api/teams</code></summary>
Creates a new team.
<pre># Italicised fields are optional
{
    "name": "Best New Team",
    "acronym": "BNT",
    <em>"color": "9cd9e0",</em>
    <em>"logo": "/path/to/logo",</em> 
    <em>"founded_date": 2024-03-29</em>
}</pre>
</details>
<details>
<summary><code>PUT /api/teams/{id}</code></summary>
Updates a team.
<pre># Italicised fields are optional
{
    <em>"name": "Best New Team",</em>
    <em>"acronym": "BNT",</em>
    <em>"color": "9cd9e0",</em>
    <em>"logo": "/path/to/logo",</em> 
    <em>"founded_date": 2024-03-29</em>
}</pre>
</details>
<details>
<summary><code>GET /api/teams/{id}/players</code></summary>
Gets a list of players that have been on the team, with dates. Can specify the optional arg <code>?current=True</code>
to retrieve only the current players.
<pre># Listing all players
{
    "team": "Such Is Life",
    "acronym": "SIL",
    "color": "dd73ff",
    "players": {
        "113": {
            "name": "Spar",
            "dates": [
                {
                    "end": "Tue, 25 Jan 2022 00:00:00 GMT",
                    "start": "Mon, 25 May 2020 00:00:00 GMT"
                },
                {
                    "end": "Sun, 12 Mar 2023 00:00:00 GMT",
                    "start": "Mon, 19 Sep 2022 00:00:00 GMT"
                },
                {
                    "end": null,
                    "start": "Mon, 28 Aug 2023 00:00:00 GMT"
                }
            ],
            "_links": {
                "self": "/api/players/113"
            }
        },
        "player_id": { ... player dates ... },
        "player_id": { ... player dates ... }
    },
    "_links": {
        "self": "/api/teams/55/players?current=False",
        "team": "/api/teams/55"
    }
}
</pre>
<pre># Listing current players
{
    "team": "Such Is Life",
    "acronym": "SIL",
    "color": "dd73ff",
    "players": {
        "113": {
            "_links": {
                "self": "/api/players/113"
            },
            "name": "Spar",
            "start_date": "Mon, 28 Aug 2023 00:00:00 GMT"
        },
        "197": {
            "_links": {
                "self": "/api/players/197"
            },
            "name": "hqckk",
            "start_date": "Sun, 14 Jan 2024 00:00:00 GMT"
        },
        "258": {
            "_links": {
                "self": "/api/players/258"
            },
            "name": "Protein Filled Chicken",
            "start_date": "Sun, 14 Jan 2024 00:00:00 GMT"
        }
    },
    "_links": {
        "self": "/api/teams/55/players?current=True",
        "team": "/api/teams/55"
    }
}
</pre>
</details>
<details>
<summary><code>GET /api/teams/{pid}/players/season/{sid}</code></summary>
Gets the list of players for a team specified by <code>pid</code> in the season_division specified by <code>sid</code>
<pre>{
    "season_division": "Season 12 Pro League (OSL)",
    "team": "Such Is Life",
    "acronym": "SIL",
    "color": "dd73ff",
    "players": {
        "116": {
            "_links": {
                "self": "/api/players/116"
            },
            "end_date": "Sun, 21 Aug 2022 00:00:00 GMT",
            "name": "aha yeah baby",
            "start_date": "Mon, 28 Feb 2022 00:00:00 GMT"
        },
        "160": {
            "_links": {
                "self": "/api/players/160"
            },
            "end_date": "Sun, 01 May 2022 00:00:00 GMT",
            "name": "kubix",
            "start_date": "Mon, 01 Nov 2021 00:00:00 GMT"
        },
        "161": {
            "_links": {
                "self": "/api/players/161"
            },
            "end_date": "Sun, 01 May 2022 00:00:00 GMT",
            "name": "miniskirt",
            "start_date": "Mon, 28 Feb 2022 00:00:00 GMT"
        }
    },
    "_links": {
        "self": "/api/teams/55/players/season/23",
        "team": "/api/teams/55"
    }
}</pre>
</details>
<details>
<summary><code>GET /api/teams/{id}/seasons</code></summary>
Gets a list of seasons the team has played in
<pre>{
    "acronym": "SIL",
    "color": "dd73ff",
    "name": "Such Is Life",
    "season_divisions": [
        {
            "_links": {
                "division": "/api/divisions/3",
                "league": "/api/leagues/1",
                "season": "/api/seasons/5",
                "self": "/api/season_division/6"
            },
            "division": "Open League",
            "id": 6,
            "league": "OSL",
            "season": "Season 5"
        },
        { ... season_division info ... },
        ...
    ],
    "_links": {
        "self": "/api/teams/55/seasons",
        "team": "/api/teams/55"
    }
}</pre>
</details>
<details>
<summary><code>POST /api/teams/{id}/seasons</code></summary>
Registers a team to a season_division. Input: <code>season_division_id</code>
</details>
<details>
<summary><code>DELETE /api/teams/{tid}/seasons/{sid}</code></summary>
De-registers a team from a season_division. <code>tid</code> is <code>team.id</code> and 
<code>sid</code> is <code>season_division.id</code>
</details>
</ul>
</details>
<br><details>
<summary><b>Match</b></summary>
<ul>
<details>
<summary><code>POST /api/match</code></summary>
Creates a match. Teams must be registered to the specified season_division, and cannot play themselves.
<pre># Italicised fields are optional
{
    "season_division_id": 40,
    "home_team_id": 247,
    "away_team_id": 245,
    <em>"round": 1,</em>
    <em>"match_week": 1</em>
}</pre>
</details>
<details>
<summary><code>GET /api/match/{id}</code></summary>
Gets the details of the specified match. Will include results if match is completed.
<pre>{
    "id": 1,
    "season_division": "Season 19 Pro League",
    "round": 1,
    "match_week": 1,
    "scheduled_time": null,
    "streamer": null,
    "cancelled": null,
    "final": false,
    "home_team": {
        "_links": {
            "self": "/api/teams/247"
        },
        "acronym": "CBR",
        "color": null,
        "name": "CBR Milk"
    },
    "away_team": {
        "_links": {
            "self": "/api/teams/245"
        },
        "acronym": "MONK",
        "color": null,
        "name": "Massive Monkeys"
    },
    "_links": {
        "away_team": "/api/teams/245",
        "home_team": "/api/teams/247",
        "results": null,
        "season_division": "/api/season_division/40",
        "self": "/api/match/1",
        "streamer": null
    }
}</pre>
</details>
</ul>
</details>
<br>

<h3>Responses</h3>
<details>
<summary><b>Success Responses</b></summary>
Some requests will respond with a more generic response format instead of a detailed object with lots of information.
Information from these responses are still helpful, and follow this format:
<pre># Example of a '200 OK' response
{
    "result": "OK",
    "message": "Division Open League updated",
    "location": "/api/divisions/3"
}</pre>
</details>
<br><details>
<summary><b>Error Responses</b></summary>
All error responses should have the corresponding HTTP response code as well as a body that follows this format:
<pre># Example 404 error response
{
    "error": "Not Found",
    "message": "Requested resource cannot be found",
    "missing_resource": "User with ID 5" # this field is only found on 404 errors
}</pre>
If an error occurs and you do not get a response that follows this format, please open an issue with details on how to 
reproduce the problem.
<ul></ul>
</details>